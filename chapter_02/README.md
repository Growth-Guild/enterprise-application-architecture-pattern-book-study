# Chapter 02. 도메인 논리 구성
- - -

## 도메인 논리 구성

### 트랜잭션 스크립트
* 작업 또는 비즈니스 트랜잭션마다 스크립트 하나를 만드는 패턴이다.
* 대부분의 개발자가 이해할 수 있는 간단한 절차적 모델이다.
* 행 데이터 게이트웨이나 테이블 데이터 게이트웨이를 적용해 데이터 원본 계층과 함께 사용하기에 적합하다.
* 트랜잭션의 경계를 설정하기 쉽다.
* 하지만 도메인 논리가 늘어날 경우, 복잡도가 상승하는 결과가 나타나는 단점이 있다.
* 여러 트랜잭션이 비슷한 작업을 수행하는 경우 코드가 많이 중복될 수 있고, 중복을 찾아내거나 제거하기 어렵다.

### 도메인 모델
* 복잡한 논리로 인해 트랜잭션 스크립트에서 발생하는 문제를 객체를 통해 해결할 수 있는 객체지향적인 방법을 도메인 모델이라고 한다.
* 도메인에 있는 명사를 바탕으로 도메인과 비슷한 모델을 구축한다.
* 도메인 모델은 새로운 사항이 생기면 객체를 새로 추가하는 식으로 알고리즘을 추가할 수 있지만, 트랜잭션 스크립트는 스크립트의 조건 논리에 조건을 추가해야 한다.

### 테이블 모듈
* 테이블 모듈은 프로시저로만 작업하기보다 테이블을 기준으로 도메인 논리를 구성하기 때문에 구조를 만들고 중복을 찾아 제거하기 수월하다.
* 상속, 전략, 다른 객체지향 패턴과 같이 도메인 모델에서 논리의 세부 구조를 만드는 데 사용하는 여러 기법은 사용할 수 없다.

## 서비스 계층
* 도메인 논리를 처리하는 일반적인 방법은 도메인 계층을 둘로 나누는 것이다.
* 서비스 계층을 기반이 되는 도메인 모델이나 테이블 모듈 위에 배치한다.
* 서비스 계층을 사용할 때는 여기에 얼마나 많은 동작을 놓을지 경정하는 것이 중요하다.
